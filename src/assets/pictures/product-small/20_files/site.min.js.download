!function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}([function(e,t,r){window.crl8=window.crl8||{},r(1);var n=r(2).default;window.crl8.metrics=window.crl8.metrics||new n,crl8.EventBus.addEventListener("initializeCuralatePixel",function(e){var t=e.pixelId,n=!!e.useDebug&&e.useDebug;window.crl8.pixel=window.crl8.pixel||{},window.crl8.pixel.q=window.crl8.pixel.q||[];var i=[["init",t,n]].concat(window.crl8.pixel.q);window.crl8.pixel=r(3).default(i)})},function(module,exports){!function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){r(1),r(7),r(8)},function(e,t,r){r(2);"undefined"==typeof Promise&&(Promise=r(4),r(5)),r(6)},function(e,t,r){"use strict";function n(){if(c.length)throw c.shift()}function i(e){var t;t=a.length?a.pop():new o,t.task=e,s(t)}function o(){this.task=null}var s=r(3),a=[],c=[],u=s.makeRequestCallFromTimer(n);e.exports=i,o.prototype.call=function(){try{this.task.call()}catch(e){i.onerror?i.onerror(e):(c.push(e),u())}finally{this.task=null,a[a.length]=this}}},function(e,t){(function(t){"use strict";function r(e){a.length||(s(),c=!0),a[a.length]=e}function n(){for(;u<a.length;){var e=u;if(u+=1,a[e].call(),u>l){for(var t=0,r=a.length-u;t<r;t++)a[t]=a[t+u];a.length-=u,u=0}}a.length=0,u=0,c=!1}function i(e){var t=1,r=new p(e),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){t=-t,n.data=t}}function o(e){return function(){function t(){clearTimeout(r),clearInterval(n),e()}var r=setTimeout(t,0),n=setInterval(t,50)}}e.exports=r;var s,a=[],c=!1,u=0,l=1024,d=void 0!==t?t:self,p=d.MutationObserver||d.WebKitMutationObserver;s="function"==typeof p?i(n):o(n),r.requestFlush=s,r.makeRequestCallFromTimer=o}).call(t,function(){return this}())},function(e,t,r){"use strict";function n(){}function i(e){try{return e.then}catch(e){return v=e,y}}function o(e,t){try{return e(t)}catch(e){return v=e,y}}function s(e,t,r){try{e(t,r)}catch(e){return v=e,y}}function a(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._45=0,this._81=0,this._65=null,this._54=null,e!==n&&m(e,this)}function c(e,t,r){return new e.constructor(function(i,o){var s=new a(n);s.then(i,o),u(e,new h(t,r,s))})}function u(e,t){for(;3===e._81;)e=e._65;if(a._10&&a._10(e),0===e._81)return 0===e._45?(e._45=1,void(e._54=t)):1===e._45?(e._45=2,void(e._54=[e._54,t])):void e._54.push(t);l(e,t)}function l(e,t){g(function(){var r=1===e._81?t.onFulfilled:t.onRejected;if(null===r)return void(1===e._81?d(t.promise,e._65):p(t.promise,e._65));var n=o(r,e._65);n===y?p(t.promise,v):d(t.promise,n)})}function d(e,t){if(t===e)return p(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var r=i(t);if(r===y)return p(e,v);if(r===e.then&&t instanceof a)return e._81=3,e._65=t,void f(e);if("function"==typeof r)return void m(r.bind(t),e)}e._81=1,e._65=t,f(e)}function p(e,t){e._81=2,e._65=t,a._97&&a._97(e,t),f(e)}function f(e){if(1===e._45&&(u(e,e._54),e._54=null),2===e._45){for(var t=0;t<e._54.length;t++)u(e,e._54[t]);e._54=null}}function h(e,t,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=r}function m(e,t){var r=!1,n=s(e,function(e){r||(r=!0,d(t,e))},function(e){r||(r=!0,p(t,e))});r||n!==y||(r=!0,p(t,v))}var g=r(3),v=null,y={};e.exports=a,a._10=null,a._97=null,a._61=n,a.prototype.then=function(e,t){if(this.constructor!==a)return c(this,e,t);var r=new a(n);return u(this,new h(e,t,r)),r}},function(e,t,r){"use strict";function n(e){var t=new i(i._61);return t._81=1,t._65=e,t}var i=r(4);e.exports=i;var o=n(!0),s=n(!1),a=n(null),c=n(void 0),u=n(0),l=n("");i.resolve=function(e){if(e instanceof i)return e;if(null===e)return a;if(void 0===e)return c;if(!0===e)return o;if(!1===e)return s;if(0===e)return u;if(""===e)return l;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new i(t.bind(e))}catch(e){return new i(function(t,r){r(e)})}return n(e)},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,r){function n(s,a){if(a&&("object"==typeof a||"function"==typeof a)){if(a instanceof i&&a.then===i.prototype.then){for(;3===a._81;)a=a._65;return 1===a._81?n(s,a._65):(2===a._81&&r(a._65),void a.then(function(e){n(s,e)},r))}var c=a.then;if("function"==typeof c){return void new i(c.bind(a)).then(function(e){n(s,e)},r)}}t[s]=a,0==--o&&e(t)}if(0===t.length)return e([]);for(var o=t.length,s=0;s<t.length;s++)n(s,t[s])})},i.reject=function(e){return new i(function(t,r){r(e)})},i.race=function(e){return new i(function(t,r){e.forEach(function(e){i.resolve(e).then(t,r)})})},i.prototype.catch=function(e){return this.then(null,e)}},function(e,t){"function"!=typeof Promise.prototype.done&&(Promise.prototype.done=function(e,t){(arguments.length?this.then.apply(this,arguments):this).then(null,function(e){setTimeout(function(){throw e},0)})})},function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function r(e){return"string"!=typeof e&&(e=String(e)),e}function n(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return v.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function s(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function a(e){var t=new FileReader,r=s(t);return t.readAsArrayBuffer(e),r}function c(e){var t=new FileReader,r=s(t);return t.readAsText(e),r}function u(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}function l(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(v.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(v.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(v.arrayBuffer&&v.blob&&b(e))this._bodyArrayBuffer=l(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!w(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob&&(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(a)}),this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return c(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(u(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function p(e){var t=e.toUpperCase();return x.indexOf(t)>-1?t:e}function f(e,t){t=t||{};var r=t.body;if(e instanceof f){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=p(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function h(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}}),t}function m(e){var t=new i;return e.split(/\r?\n/).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}}),t}function g(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var v={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(v.arrayBuffer)var y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(e){return e&&DataView.prototype.isPrototypeOf(e)},w=ArrayBuffer.isView||function(e){return e&&y.indexOf(Object.prototype.toString.call(e))>-1};i.prototype.append=function(e,n){e=t(e),n=r(n);var i=this.map[e];this.map[e]=i?i+","+n:n},i.prototype.delete=function(e){delete this.map[t(e)]},i.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,n){this.map[t(e)]=r(n)},i.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},i.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),n(e)},i.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),n(e)},i.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),n(e)},v.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var x=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];f.prototype.clone=function(){return new f(this,{body:this._bodyInit})},d.call(f.prototype),d.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},g.error=function(){var e=new g(null,{status:0,statusText:""});return e.type="error",e};var I=[301,302,303,307,308];g.redirect=function(e,t){if(-1===I.indexOf(t))throw new RangeError("Invalid status code");return new g(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=f,e.Response=g,e.fetch=function(e,t){return new Promise(function(r,n){var i=new f(e,t),o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:m(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;r(new g(t,e))},o.onerror=function(){n(new TypeError("Network request failed"))},o.ontimeout=function(){n(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials&&(o.withCredentials=!0),"responseType"in o&&v.blob&&(o.responseType="blob"),i.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send(void 0===i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(module,exports,__webpack_require__){function autoInitExperiences(){var e=AUTO_INIT_SELECTOR+","+AUTO_INIT_DATA_SELECTOR;Array.prototype.forEach.call(document.querySelectorAll(e),function(e){createExperienceInstance(e.getAttribute(ID_ATTR_NAME)||e.getAttribute(ID_DATA_ATTR_NAME),e)})}function getExperienceConstructor(e){return experienceConstructorPromises[e]?experienceConstructorPromises[e]:(experienceConstructorPromises[e]=utils.fetchScript(getScriptPath(e)).then(function(){return experienceConstructorPromises[e]}),experienceConstructorPromises[e])}function getScriptPath(e){return getBasePath(e)+(window.crl8.debug?"experience.js":"experience.min.js")}function getAssetsPath(e){return getBasePath(e)+"assets/"}function getBasePath(e){var t=queryParams.versionMap[e]||"latest";return CDN_PATH+siteName+"/experiences/"+e+"/"+t+"/"}function processQueryParams(e){var t=utils.getQueryParamsMap(e);return window.crl8.debug=!!t["crl8-debug"],{allParams:t,experienceMap:t["crl8-experience-map"]?JSON.parse(t["crl8-experience-map"]):{},versionMap:t["crl8-version-map"]?JSON.parse(t["crl8-version-map"]):{},optionsOverridesMap:t["crl8-options-map"]?JSON.parse(t["crl8-options-map"]):{}}}function destroyExperience(e){return e.destroyed=!0,delete experiencesByContainerId[e.containerId],e.instance?e.instance.destroy():Promise.resolve}function wrapContainerSelectorToPromiseFn(e){return function(t){var r,n;if("string"==typeof t)r=t,n=document.querySelector("["+ID_ATTR_NAME+'="'+r+'"]')||document.querySelector("["+ID_DATA_ATTR_NAME+'="'+r+'"]');else if(t instanceof Element){if(n=t,!(r=n.getAttribute(ID_ATTR_NAME)||n.getAttribute(ID_DATA_ATTR_NAME)))return Promise.reject({containerSelector:t,message:logError("Cannot find the "+ID_ATTR_NAME+" attribute for "+n)})}else throwError("Experience selectors must be either a container ID or an element");return e.apply(this,[r,n].concat(Array.prototype.slice.call(arguments)))}}function logError(e){return ErrorLogger.log({errorType:"bootloader",error:e})}function throwError(e){throw new BootloaderError(logError(e))}function BootloaderError(e){this.message=e}function createExperienceInstance(e,t,r,n){if(siteName||throwError("Site name has not been set. Experience "+e+" cannot be created until the site name has been set."),experiencesByContainerId[e])return Promise.reject({containerSelector:r,message:logError("Cannot initialize experience for container "+r+". It already has been initialized.")});if(!t)return Promise.reject({containerSelector:r,message:logError("Cannot initialize experience for container "+r+". It already has been initialized.")});var i=queryParams.experienceMap[e]?Promise.resolve(queryParams.experienceMap[e]):containerMapper(e),o={containerId:e,elem:t,destroyed:!1,experienceName:null,experienceNamePromise:i,instance:null,instancePromise:null};return experiencesByContainerId[e]=o,o.instancePromise=i.then(function(i){return o.experienceName=i,getExperienceConstructor(i).then(function(r){if(!o.destroyed){if("function"!=typeof r)return Promise.reject({containerId:e,experienceName:i,message:"Curalate: Could not load experience "+i+" for container "+e+"."});var s=utils.assign(experienceOptionsByExperienceName[i],experienceOptionsByContainerId[e],n,{assetPath:getAssetsPath(i)},queryParams.optionsOverridesMap[e]);return o.instance=new r(t,s),crl8.EventBus.dispatchEvent("experienceReady",o),o.instance}}).catch(function(t){return Promise.reject({containerSelector:r,experienceName:i,message:"Curalate: Could not load experience "+i+" for container "+e+". "+t})})}),o.instancePromise}function getExperienceInstance(e,t,r){var n=experiencesByContainerId[e];return n?n.instancePromise:Promise.reject({containerSelector:r,message:"Curalate: No experience found for "+r})}function getAllExperienceInstances(){return Promise.all(Object.keys(experiencesByContainerId).map(function(e){return experiencesByContainerId[e].instancePromise}))}function destroyExperienceInstance(e,t,r){var n=experiencesByContainerId[e];return n?(destroyExperience(n),Promise.resolve()):Promise.reject({containerSelector:r,message:logError("Could not find an experience to destroy for "+r)})}function destroyAllExperienceInstances(){return Promise.all(Object.keys(experiencesByContainerId).map(function(e){return destroyExperience(experiencesByContainerId[e])}))}var ErrorLogger=__webpack_require__(9),EventBus=__webpack_require__(10),utils=__webpack_require__(11),queryParams=processQueryParams(location.search),ID_ATTR_NAME="crl8-container-id",ID_DATA_ATTR_NAME="data-crl8-container-id",AUTO_INIT_SELECTOR="["+ID_ATTR_NAME+"]:not([crl8-auto-init=false])",AUTO_INIT_DATA_SELECTOR="["+ID_DATA_ATTR_NAME+"]:not([data-crl8-auto-init=false])",CDN_PATH=queryParams["ctrl-skip-cdn"]?"https://s3.amazonaws.com/curalate-experiences/sites/":"https://cdn.curalate.com/sites/",siteName,experienceOptionsByContainerId={},experienceOptionsByExperienceName={},experienceConstructorPromises={},experiencesByContainerId={},containerMapper=function(e){return Promise.resolve(e)};EventBus.addEventListener("siteReady",function(e){"object"!=typeof e&&throwError("`siteReady` event triggered without a `name` property in: "+e),"string"!=typeof e.name&&throwError("`siteReady` event triggered without a `name` property in: "+JSON.stringify(e)),siteName=e.name,"uninitialized"===document.readyState||"loading"===document.readyState?document.addEventListener("DOMContentLoaded",autoInitExperiences):autoInitExperiences()}),EventBus.addEventListener("experienceConstructorReady",function(e){experienceConstructorPromises[e.name]=Promise.resolve(e.Experience)}),EventBus.addEventListener("experienceInstanceDestroyed",function(e){var t=e.instance,r=utils.find(experiencesByContainerId,function(e){return e.instance===t});delete experiencesByContainerId[r.containerId]}),EventBus.addEventListener("registerExperienceOptions",function(e){var t=e.containerId,r=e.experienceName,n=e.options;t&&(experienceOptionsByContainerId[t]=utils.assign(experienceOptionsByContainerId[t],n)),r&&(experienceOptionsByExperienceName[r]=utils.assign(experienceOptionsByExperienceName[r],n))}),EventBus.addEventListener("registerContainerMapper",function(e){containerMapper=e}),window.crl8=utils.assign(window.crl8,{ErrorLogger:ErrorLogger,EventBus:EventBus,createExperience:wrapContainerSelectorToPromiseFn(createExperienceInstance),getExperience:wrapContainerSelectorToPromiseFn(getExperienceInstance),getAllExperiences:getAllExperienceInstances,destroyExperience:wrapContainerSelectorToPromiseFn(destroyExperienceInstance),destroyAllExperiences:destroyAllExperienceInstances,__eval__:function(script){eval(script)}})},function(e,t,r){r(7),e.exports={log:function(e){return window.crl8&&!1===window.crl8.debug&&fetch("https://api.curalate.com/v1/error-logging/log",e),"Curalate: ERROR - "+e.error}}},function(e,t){var r={};e.exports={addEventListener:function(e,t){r[e]=r[e]||[],r[e].push(t)},removeEventListener:function(e,t){for(var n=0;n<r[e].length;++n)if(r[e][n]===t){r[e].splice(n,1);break}},dispatchEvent:function(e,t){var n=r[e];if(n)for(var i=0;i<n.length;++i)n[i].call(null,t)}}},function(e,t){e.exports={assign:function(){for(var e={},t=0;t<arguments.length;++t)if("object"==typeof arguments[t])for(var r in arguments[t])arguments[t].hasOwnProperty(r)&&(e[r]=arguments[t][r]);return e},find:function(e,t){if(e instanceof Array){for(var r=0;r<e.length;++r)if(t(e[r]))return e[r]}else if("object"==typeof e)for(var n in e)if(t(e[n]))return e[n]},getQueryParamsMap:function(e){return e.substring(1).split("&").reduce(function(e,t){var r=t.split("=");return e[r[0]]=decodeURIComponent(r[1]),e},{})},fetchScript:function(e){return new Promise(function(t,r){var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=t,n.onerror=r,document.getElementsByTagName("body")[0].appendChild(n)})}}}])},function(e,t,r){!function(t,r){e.exports=r()}(0,function(){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=11)}([function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t.a=function(){function e(t){n(this,e),this.debug=t||!1}return i(e,[{key:"setDebug",value:function(e){this.debug=!!e}},{key:"logDebug",value:function(e,t){this.debug&&(t?console.debug("[crl8 debug]",e,t):console.debug("[crl8 debug]",e))}},{key:"logError",value:function(e,t){var r=window.screen.height+"x"+window.screen.width,n=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||"",i="https://api.curalate.com/v1/error-logging/log?errortype=universalAnalytics&error="+encodeURIComponent(e)+"&width="+n+"&dimensions="+r+")}";if(fetch(i,{method:"POST"}),t)throw Error(e);console.error(e)}}]),e}()},function(e,t,r){"use strict";function n(e){return e instanceof Object&&!(e instanceof Array||e instanceof Function)}function i(e){if(!n(e))throw Error(e+" must be a plain object.");return 0>=Object.keys(e).length}function o(e){return JSON.parse(JSON.stringify(e))}function s(e,t){var r=o(e);for(var i in t)r[i]=n(e[i])&&n(t[i])?s(e[i]||{},t[i]):o(t[i]);return r}function a(e){return e.replace?e.replace(/\|/g,""):e}function c(){return Date.now()}t.b=i,t.a=s,t.c=a,t.d=c},function(e,t,r){var n,i;!function(o){if(n=o,void 0!==(i="function"==typeof n?n.call(t,r,t,e):n)&&(e.exports=i),!0,e.exports=o(),!!0){var s=window.Cookies,a=window.Cookies=o();a.noConflict=function(){return window.Cookies=s,a}}}(function(){function e(){for(var e=0,t={};arguments.length>e;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}function t(r){function n(t,i,o){var s;if("undefined"!=typeof document){if(arguments.length>1){if(o=e({path:"/"},n.defaults,o),"number"==typeof o.expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*o.expires),o.expires=a}o.expires=o.expires?o.expires.toUTCString():"";try{s=JSON.stringify(i),/^[\{\[]/.test(s)&&(i=s)}catch(e){}i=r.write?r.write(i,t):encodeURIComponent(i+"").replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(t+""),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape);var c="";for(var u in o)o[u]&&(c+="; "+u,!0!==o[u]&&(c+="="+o[u]));return document.cookie=t+"="+i+c}t||(s={});for(var l=document.cookie?document.cookie.split("; "):[],d=0;l.length>d;d++){var p=l[d].split("="),f=p.slice(1).join("=");'"'===f.charAt(0)&&(f=f.slice(1,-1));try{var h=p[0].replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent);if(f=r.read?r.read(f,h):r(f,h)||f.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent),this.json)try{f=JSON.parse(f)}catch(e){}if(t===h){s=f;break}t||(s[h]=f)}catch(e){}}return s}}return n.set=n,n.get=function(e){return n.call(n,e)},n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(t,r){n(t,"",e(r,{expires:-1}))},n.withConverter=t,n}return t(function(){})})},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=r(15),o=r(0),s=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t.default=function(){function e(){n(this,e),this.trackers={},this.logger=new o.a}return s(e,[{key:"_getTracker",value:function(e){return this.trackers[e]||void this.logger.logError("[crl8] No tracker exists for experienceId: "+e)}},{key:"init",value:function(e,t){if(this.trackers[e])return this.logger.logError("[crl8]: Metrics have already been initialized for experience "+e+".",!0);var r=new i.a(e,t);return this.trackers[e]=r,r}},{key:"destroy",value:function(e){var t=this,r=this._getTracker(e);return r?r.submitEventBatch().then(function(){r.stopBatchTimer(),delete t.trackers[e]}):Promise.resolve()}},{key:"recordEvent",value:function(e){var t=e.eventData,r=void 0===t?{}:t,n=e.eventName,i=e.experienceId,o=this._getTracker(i);if(o){var s=void 0;return"string"!=typeof n?this.logger.logError("[crl8] Invalid eventName specified. Must be a string. Metrics data will not be recorded."):(s="record"+(n.charAt(0).toUpperCase()+n.slice(1)),"function"!=typeof o[s]?this.logger.logError("[crl8] Invalid tracker function specified. Metrics data will not be recorded."):o[s](r))}}},{key:"flushEvents",value:function(e){var t=this._getTracker(e);return t?t.submitEventBatch():Promise.resolve()}},{key:"startBatchTimer",value:function(e){var t=this._getTracker(e);if(t)return t.startBatchTimer()}},{key:"stopBatchTimer",value:function(e){var t=this._getTracker(e);if(t)return t.stopBatchTimer()}}]),e}()},function(e,t,r){"use strict";t.a={eventKeys:{pageImpression:"pi",pageImpressionNoContent:"pinc",pageViewableImpression:"pvi",itemImpression:"ivi",itemHover:"ih",itemClick:"ic",productImpression:"prvi",productHover:"prh",productClick:"prc"},optionalFields:{elapsedTime:"et",itemId:"iid",productId:"pid",productStyleId:"psid",position:"pos",displayType:"dt"},timing:{batchSizeThreshold:15,batchTimeThreshold:1e4}}},function(e,t,r){"use strict";function n(e,t){var n="t:"+r.i(i.c)(e.type)+"|ts:"+r.i(i.c)(e.timestamp),o=Object.keys(t).reduce(function(n,o){return e[o]?n+"|"+t[o]+":"+r.i(i.c)(e[o]):n},n);return encodeURIComponent(o)}var i=r(1);t.a=n},function(e,t,r){"use strict";function n(e){var t=r.i(s.a)(document.domain);o.a.set("crl8.fpcuid",e,{expires:365,domain:t,path:""})}var i=r(2),o=r.n(i),s=r(8);t.a=n},function(e,t,r){"use strict";function n(){return window.location.search.substring(1).split("&").reduce(function(e,t){var r=t.split("="),n=decodeURIComponent(r[0]).toLowerCase(),i=n.match(/^crl8-(.*)/);return i&&i[1]&&(e[i[1]]=decodeURIComponent(r[1]).toLowerCase()),e},{})}t.a=n},function(e,t,r){"use strict";function n(e){var t=e.split(".");return-1!==["co","com"].indexOf(t[t.length-2])?t.slice(-3).join("."):t.slice(-2).join(".")}t.a=n},function(e,t,r){"use strict";function n(e,t){return e.baseUrl&&"string"==typeof e.baseUrl?e.metricsId&&"string"==typeof e.metricsId?e.pixelName&&"string"==typeof e.pixelName?void 0:t.logError("[crl8]: You must provide a string value for pixelName.",!0):t.logError("[crl8]: You must provide a string value for metricsId.",!0):t.logError("[crl8]: You must provide a valid url for baseUrl.",!0)}t.a=n},function(e,t,r){"use strict";function n(e){if(!e.requestId||"string"!=typeof e.requestId)throw Error("[crl8] Tracking event must define a requestId field in order to be recorded.");if(!e.type||"string"!=typeof e.type)throw Error("[crl8] Tracking event must define a type field in order to be recorded.");if(!e.timestamp||"number"!=typeof e.timestamp)throw Error("[crl8] Tracking event must define a timestamp field in order to be recorded.")}function i(e,t,r){try{n(e)}catch(e){return r.logError(e.message),!1}switch(e.type){case t.eventKeys.pageImpression:return!!e.displayType||(r.logError('[crl8] Page impressions must define a "displayType" parameter.'),!1);case t.eventKeys.pageImpressionNoContent:return!(!e.displayType||!e.productId)||(r.logError('[crl8] Page no-content impressions must define "displayType" and "productId" parameters.'),!1);case t.eventKeys.pageViewableImpression:return!!e.elapsedTime||(r.logError('[crl8] Viewable impressions must define an "elapsedTime" parameter.'),!1);case t.eventKeys.itemImpression:return!!(e.itemId&&e.elapsedTime&&e.position)||(r.logError('[crl8] Item impressions must define "itemId", "elapsedTime" and "position" parameters.'),!1);case t.eventKeys.itemHover:return!(!e.itemId||!e.position)||(r.logError('[crl8] Item hovers must include "itemId" and "position" parameters.'),!1);case t.eventKeys.itemClick:return!(!e.itemId||!e.position)||(r.logError('[crl8] Item clicks must include "itemId" and "position" parameters.'),!1);case t.eventKeys.productImpression:return!!(e.productId&&e.productStyleId&&e.position&&e.elapsedTime)||(r.logError('[crl8] Product impressions must define "productId", "productStyleId", "elapsedTime", and "position" parameters.'),!1);case t.eventKeys.productHover:return!!(e.productId&&e.productStyleId&&e.position&&e.elapsedTime)||(r.logError('[crl8] Product hovers must define "productId", "productStyleId", "elapsedTime", and "position" parameters.'),!1);case t.eventKeys.productClick:return!!(e.productId&&e.productStyleId&&e.position)||(r.logError('[crl8] Product clicks must define "productId", "productStyleId" and "position" parameters.'),!1);default:return r.logError("[crl8] Unknown event type. Cannot be validated."),!1}}t.a=i},function(e,t,r){e.exports=r(3)},function(e,t,r){"use strict";t.a={actions:{pageImpression:"reel.impression",itemHover:"item.hover",itemClick:"item.click",productClick:"item.shop"}}},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=r(12),s=r(0),a=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t.a=function(){function e(t,r){var c;i(this,e),this.eventQueue=[],this.initialized=!1,this.useLegacy=!1,this.config=a({category:"curalate.fanreel."+t.metricsId,displayType:t.displayType,eventKeys:t.eventKeys,rid:t.rid},o.a),this.supportedEvents=(c={},n(c,this.config.eventKeys.pageImpression,!0),n(c,this.config.eventKeys.itemHover,!0),n(c,this.config.eventKeys.itemClick,!0),n(c,this.config.eventKeys.productClick,!0),c),this.logger=new s.a(r),this.checkForGa(0)}return c(e,[{key:"checkForGa",value:function(e){this.logger.logDebug("Checking for GA..."),window.ga?this.initialized=!0:window._gaq?(this.initialized=!0,this.useLegacy=!0):e>60?this.logger.logDebug("GA not detected. Initialization failed."):setTimeout(this.checkForGa.bind(this,e+=1),500)}},{key:"submitEventBatch",value:function(e){var t=this,r=e.filter(function(e){return!!t.supportedEvents[e.type]});if(!this.initialized)return void(this.eventQueue=this.eventQueue.concat(r));this.eventQueue.length&&(this.eventQueue.forEach(function(e){t.processEvent(e)}),this.eventQueue=[]),r.length&&r.forEach(function(e){t.processEvent(e)})}},{key:"processEvent",value:function(e){var t=this,r=this.config,n=r.actions,i=r.displayType,o=r.eventKeys,s=r.rid,a=[];switch(e.type){case o.pageImpression:a.push({action:n.pageImpression,params:"v1:rid="+s+"&dt="+i});break;case o.itemHover:a.push({action:n.itemHover,elapsedTime:e.elapsedTime,params:"v1:iid="+e.itemId});break;case o.itemClick:a.push({action:n.itemClick,params:"v1:iid="+e.itemId}),a.push({action:n.itemHover,elapsedTime:e.elapsedTime,params:"v1:iid="+e.itemId});break;case o.productClick:a.push({action:n.productClick,params:"v1:iid="+e.itemId+"&prid="+e.productId}),a.push({action:n.itemClick,params:"v1:iid="+e.itemId}),a.push({action:n.itemHover,elapsedTime:e.elapsedTime,params:"v1:iid="+e.itemId});break;default:return}a.forEach(function(e){t.useLegacy?t.sendToLegacyGa(e):t.sendToGa(e)})}},{key:"sendToGa",value:function(e){var t=window.ga.getAll();if(t&&t.length){var r=t[0].get("name")?t[0].get("name")+".send":"send";window.ga(r,"event",this.config.category,e.action,e.params,e.elapsedTime,{nonInteraction:e.action===this.config.actions.pageImpression})}}},{key:"sendToLegacyGa",value:function(e){var t=window._gat&&window._gat._getTrackers()[0]?window._gat._getTrackers()[0]._getName()+".":"";window._gaq.push([t+"_trackEvent",this.config.category,e.action,e.params,e.elapsedTime])}}]),e}()},,function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=r(2),o=r.n(i),s=r(17),a=r.n(s),c=r(4),u=r(0),l=r(1),d=r(9),p=r(10),f=r(6),h=r(7),m=r(5),g=r(13),v=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t.a=function(){function e(t,i){var s=this;n(this,e),this.eventQueue=[],this.logger=new u.a;var p=r.i(l.a)(c.a,i),m=o.a.get("crl8.fpcuid"),g=m||a()();m||r.i(f.a)(g),this.config=v({experienceId:t,fpcuid:g,rid:a()()},p);var y=r.i(h.a)();(window.crl8&&crl8.debug||y.debug||p.debug)&&(this.debug=!0,this.logger.setDebug(!0)),r.i(d.a)(this.config,this.logger),this.registerIntegrations(),window.addEventListener("beforeunload",function(){s.submitEventBatch()}),this.logger.logDebug("analytics initialized for "+t),this.startBatchTimer()}return y(e,[{key:"registerIntegrations",value:function(){var e=this.config.integrations;e&&!r.i(l.b)(e)&&e.ga&&e.ga.isEnabled&&(this.ga=new g.a(this.config,this.debug))}},{key:"startBatchTimer",value:function(){var e=this;this.batchTimerId||(this.batchTimerId=window.setInterval(function(){e.logger.logDebug("batch timer reached, flushing queue..."),e.submitEventBatch()},this.config.timing.batchTimeThreshold))}},{key:"stopBatchTimer",value:function(){this.batchTimerId&&(window.clearInterval(this.batchTimerId),this.batchTimerId=null)}},{key:"resetBatchTimer",value:function(){this.batchTimerId&&(this.stopBatchTimer(),this.startBatchTimer())}},{key:"enqueueEvent",value:function(e){this.eventQueue.push(e),this.config.timing.batchSizeThreshold>this.eventQueue.length||this.submitEventBatch()}},{key:"submitEventBatch",value:function(){var e=this;return 0===this.eventQueue.length?Promise.resolve():(this.ga&&this.ga.submitEventBatch(this.eventQueue),new Promise(function(t,n){var i=e.config,o=i.baseUrl,s=i.containerId,c=i.experienceId,u=i.fpcuid,d=i.metricsId,p=i.optionalFields,f=i.pixelName,h=i.rid,g=s?"cid="+s+"&":"",v=g+"xp="+c+"&rid="+h+"&fpcuid="+u+"&ref="+encodeURIComponent(r.i(l.c)(document.referrer)),y=e.eventQueue.reduce(function(e,t){return e+"&e="+r.i(m.a)(t,p)},""),b=""+v+y+"&cache=_"+a()(),w=document.createElement("img"),x="https:"===document.location.protocol?"https:":"http:";w.src=""+x+o+"/"+d+"/"+f+"?"+b,w.style.position="absolute",w.style["z-index"]=-100,w.onload=function(){e.logger.logDebug('crl8 pixel with metricsId "'+d+'" fired successfully: '+b),document.body.removeChild(w),t()},w.onerror=function(){e.logger.logDebug('crl8 pixel with metricsId "'+d+'" failed to fire: '+b),n()},document.body.appendChild(w),e.eventQueue=[],e.resetBatchTimer()}))}},{key:"recordPageImpression",value:function(e){var t=v({},e,{requestId:this.config.rid,type:this.config.eventKeys.pageImpression,timestamp:r.i(l.d)(),displayType:this.config.displayType});r.i(p.a)(t,this.config,this.logger)&&(this.enqueueEvent(t),this.logger.logDebug("registering page impression",t),this.submitEventBatch())}},{key:"recordPageImpressionNoContent",value:function(e){var t=v({},e,{requestId:this.config.rid,type:this.config.eventKeys.pageImpressionNoContent,timestamp:r.i(l.d)(),displayType:this.config.displayType});r.i(p.a)(t,this.config,this.logger)&&(this.enqueueEvent(t),this.logger.logDebug("registering page no-content impression",t),this.submitEventBatch())}},{key:"recordPageViewableImpression",value:function(e){var t=v({},e,{requestId:this.config.rid,type:this.config.eventKeys.pageViewableImpression,timestamp:r.i(l.d)()});r.i(p.a)(t,this.config,this.logger)&&(this.enqueueEvent(t),this.logger.logDebug("registering page viewable impression",t))}},{key:"recordItemImpression",value:function(e){var t=v({},e,{requestId:this.config.rid,type:this.config.eventKeys.itemImpression,timestamp:r.i(l.d)()});r.i(p.a)(t,this.config,this.logger)&&(this.enqueueEvent(t),this.logger.logDebug("registering item impression",t))}},{key:"recordItemHover",value:function(e){var t=v({},e,{requestId:this.config.rid,type:this.config.eventKeys.itemHover,timestamp:r.i(l.d)()});r.i(p.a)(t,this.config,this.logger)&&(this.enqueueEvent(t),this.logger.logDebug("registering item hover",t))}},{key:"recordItemClick",value:function(e){var t=v({},e,{requestId:this.config.rid,type:this.config.eventKeys.itemClick,timestamp:r.i(l.d)()});r.i(p.a)(t,this.config,this.logger)&&(this.enqueueEvent(t),this.logger.logDebug("registering item click",t),this.submitEventBatch())}},{key:"recordProductImpression",value:function(e){var t=v({},e,{requestId:this.config.rid,type:this.config.eventKeys.productImpression,timestamp:r.i(l.d)()});r.i(p.a)(t,this.config,this.logger)&&(this.enqueueEvent(t),this.logger.logDebug("registering product impression",t))}},{key:"recordProductHover",value:function(e){var t=v({},e,{requestId:this.config.rid,type:this.config.eventKeys.productHover,timestamp:r.i(l.d)()});r.i(p.a)(t,this.config,this.logger)&&(this.enqueueEvent(t),this.logger.logDebug("registering product hover",t))}},{key:"recordProductClick",value:function(e){var t=v({},e,{requestId:this.config.rid,type:this.config.eventKeys.productClick,timestamp:r.i(l.d)()});r.i(p.a)(t,this.config,this.logger)&&(this.enqueueEvent(t),this.logger.logDebug("registering product click",t),this.submitEventBatch())}}]),e}()},function(e,t,r){(function(t){var r,n=t.crypto||t.msCrypto;if(n&&n.getRandomValues){var i=new Uint8Array(16);r=function(){return n.getRandomValues(i),i}}if(!r){var o=Array(16);r=function(){for(var e,t=0;16>t;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}e.exports=r}).call(t,r(18))},function(e,t,r){function n(e,t,r){var n=t&&r||0,i=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){16>i&&(t[n+i++]=u[e])});16>i;)t[n+i++]=0;return t}function i(e,t){var r=t||0,n=c;return n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]}function o(e,t,r){var n=t&&r||0,o=t||[];e=e||{};var s=void 0!==e.clockseq?e.clockseq:f,a=void 0!==e.msecs?e.msecs:(new Date).getTime(),c=void 0!==e.nsecs?e.nsecs:m+1,u=a-h+(c-m)/1e4;if(0>u&&void 0===e.clockseq&&(s=s+1&16383),(0>u||a>h)&&void 0===e.nsecs&&(c=0),c>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");h=a,m=c,f=s,a+=122192928e5;var l=(1e4*(268435455&a)+c)%4294967296;o[n++]=l>>>24&255,o[n++]=l>>>16&255,o[n++]=l>>>8&255,o[n++]=255&l;var d=a/4294967296*1e4&268435455;o[n++]=d>>>8&255,o[n++]=255&d,o[n++]=d>>>24&15|16,o[n++]=d>>>16&255,o[n++]=s>>>8|128,o[n++]=255&s;for(var g=e.node||p,v=0;6>v;v++)o[n+v]=g[v];return t||i(o)}function s(e,t,r){var n=t&&r||0;"string"==typeof e&&(t="binary"==e?Array(16):null,e=null),e=e||{};var o=e.random||(e.rng||a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var s=0;16>s;s++)t[n+s]=o[s];return t||i(o)}for(var a=r(16),c=[],u={},l=0;256>l;l++)c[l]=(l+256).toString(16).substr(1),u[c[l]]=l;var d=a(),p=[1|d[0],d[1],d[2],d[3],d[4],d[5]],f=16383&(d[6]<<8|d[7]),h=0,m=0,g=s;g.v1=o,g.v4=s,g.parse=n,g.unparse=i,e.exports=g},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r}])})},function(e,t,r){!function(t,r){e.exports=r()}(0,function(){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=14)}({14:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={},i=null,o=["checkout","addtocart","removefromcart","viewproduct","pageview"],s=[],a=[],c={},u={},l={pixelId:"a",transactionId:"b",userId:"c",cartValue:"d",taxValue:"e",shippingValue:"f",shippingCity:"g",shippingState:"h",shippingCountry:"i",currency:"j",numProducts:"k",productId:"l",productName:"m",quantity:"n",price:"o",displayPrice:"p",sku:"q",category:"r",eventType:"s",firstPartyCuid:"t",referrer:"u",title:"v",location:"w",path:"x"},d=!1,p=function(e){return e.replace?e.replace(/\|/g,""):e},f=function(e){var t=function(e){for(var t=e+"=",r=document.cookie.split(";"),n=0;r.length>n;n++){for(var i=r[n];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return""}(e),r=t||function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}(),n=new Date;n.setTime(n.getTime()+31536e6);var i,o=n.toGMTString(),s=document.domain.split(".");return i=-1!==["co","com"].indexOf(s[s.length-2])?"."+s.slice(-3).join("."):"."+s.slice(-2).join("."),document.cookie=e+"="+r+";expires="+o+";domain="+i+";path=/",r}("crl8.fpcuid"),h=document.referrer,m=function(e,t){return e.hasOwnProperty("productId")&&e.hasOwnProperty("productName")?-1===o.indexOf(t.toLowerCase())?void console.error("crl8: Invalid event type. Event type must be one of "+o.join(", ")):(e.eventType=t.toLowerCase(),void("checkout"===e.eventType?a.push(e):s.push(e))):void console.error("crl8: Product info is missing. Product id and product name must be included for product:",e)},g=function(){return a.length>0},v=function(e){var t,r=[];if(e){for(Object.keys(c).forEach(function(e){r.push(l[e]+"="+encodeURIComponent(c[e]))}),r.push("k="+(a.length+s.length)),t=0;a.length>t;t++)Object.keys(a[t]).forEach(function(e){r.push(l[e]+t+"="+encodeURIComponent(a[t][e]))});x("Preparing to send "+a.length+" product(s) as part of checkout.",a)}else r.push("k="+s.length);var n=e?a.length:0;for(t=0;s.length>t;t++)Object.keys(s[t]).forEach(function(e){r.push(l[e]+(t+n)+"="+encodeURIComponent(s[t][e]))});return s.length>0&&x("Preparing to send "+s.length+" product(s).",s),Object.keys(u).forEach(function(e){r.push(l[e]+"="+encodeURIComponent(p(u[e])))}),r.push("t="+f),r.push("u="+encodeURIComponent(p(h))),r.join("&")},y=function(e){var t=document.createElement("img"),r="https:"===document.location.protocol?"https:":"http:",n=v(e);t.src=r+"//api.curalate.com/v1/pixel/"+i+"/pixel.png?"+n,t.onload=function(){x("Curalate pixel ID "+i+" fired successfully.")},t.onerror=function(){x("Curalate pixel "+i+" failed to fire.")},document.body.appendChild(t)},b=function(e){e&&(a=[],c={}),s=[],u={}},w=function(e){for(;e.length>0;){var t=e.shift(),r=t[0],i=Array.prototype.slice.call(t).slice(1);"function"==typeof n[r]?n[r].call(window,i):console.error("crl8: Invalid function specified: "+r)}},x=function(e,t){var r=!!document.documentMode;d&&(t&&r?console.log("[crl8 debug] "+e,JSON.stringify(t)):t?console.log("[crl8 debug] "+e,t):console.log("[crl8 debug] "+e))};n.init=function(e){i=e[0],d=!!e[1]&&e[1],x("Debug mode enabled.")},n.pageView=function(e){var t=e[0]?e[0]:{location:window.location.href};return Object.keys(u).length>0?void console.error("crl8: Only 1 pageview can be recorded at a time. Call send before adding a second pageview."):t.hasOwnProperty("location")||t.hasOwnProperty("path")?(u=t,void x("Viewed page:",t)):void console.error("crl8: must define either a location or path for Pageview events. Please add one of location or path.")},n.addToCart=function(e){var t=e[0];m(t,"addtocart"),x("Added product to cart:",t)},n.removeFromCart=function(e){var t=e[0];m(t,"removefromcart"),x("Removed product from cart:",t)},n.viewProduct=function(e){var t=e[0];m(t,"viewproduct"),x("Viewed product:",t)},n.addProduct=function(e){var t=e[0];m(t,"checkout"),x("Added product for checkout:",t)},n.addTransactionInfo=function(e){var t=e[0];return Object.keys(c).length>0?void console.error("crl8: Only 1 transaction can be added at a time. Call send before adding a second transaction."):t.hasOwnProperty("transactionId")?(c=t,void x("Added transaction info for checkout:",t)):void console.error("crl8: Transaction id must be included in info for transaction:",t)},n.send=function(e){if(!i)return void console.error("crl8: Curalate pixel must be initialized with a pixel id before data can be sent.");if(e.length>0){var t=e[0].toLowerCase(),r=e[1];0>o.indexOf(t.toLowerCase())?console.error("crl8: Unsupported event type passed in to 'send'."):("addtocart"===t?n.addToCart([r]):"viewproduct"===t?n.viewProduct([r]):"removefromcart"===t?n.removeFromCart([r]):"pageview"===t&&n.pageView([r]),y(!1),b(!1))}else{if(0===a.length&&0===s.length)return void console.error("crl8: 0 products have been added. At least 1 product must be added to send data.");if(Object.keys(c).length>0){if(!c.hasOwnProperty("transactionId"))return void console.error("crl8: Transaction id must be specified before checkout data can be sent.");if(!g())return void console.error("crl8: 0 checkout products have been added. At least 1 product must be added to send checkout data.")}else if(g()&&0===Object.keys(c).length)return void console.error("crl8: Transaction info must be added with addTransactionInfo before checkout data can be sent.");y(!0),b(!0)}},t.default=function(e){return!e instanceof Array&&console.error("[crl8]: Pixel must be initialized with an array"),w(e),function(){e=[],e.push(arguments),w(e)}}}})})},function(e,t,r){r(0)}]);
window.crl8.EventBus.dispatchEvent('registerExperienceOptions', {
    containerId: 'pdp',
    options: {}
});
window.crl8.EventBus.dispatchEvent('registerContainerMapper', function(containerId) {
    var experienceName = containerId;
    switch(containerId) {
        case 'pdp':
            experienceName = 'custom-gallery-1502824792313';
            break;
    }
    return Promise.resolve(experienceName);
});
window.crl8.EventBus.dispatchEvent('siteReady', { name: 'nike' });