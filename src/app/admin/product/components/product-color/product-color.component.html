<mat-card class="card-view">
  <mat-card-content>
    <div fxLayout="row" fxLayout.xs="column" fxLayoutAlign="start start"
         fxLayoutAlign.xs="center center" dir="rtl">
      <div style="text-align: right" fxFlex="70" class="field-container">
        <div class="little-right-margin right-alignment">
          <app-suggestion [name]="'Color'" [currentIds]="[0]" [placeholder]="selectedColor?.name || 'نام رنگ'"
                          (add)="setColor($event)"></app-suggestion>
          <br>
          <mat-checkbox name="is_thumbnail" [(ngModel)]="is_thumbnail" role="is_thumbnail">
            تصویر بندانگشتی
          </mat-checkbox>
        </div>
      </div>
      <app-uploader fxFlex="100" *ngIf="selectedColor?._id"
                    [url]="'product/image/'+ productId + '/' + selectedColor?._id + '/' + is_thumbnail"
                    (OnCompleted)="addToTable($event)"></app-uploader>
    </div>
    <div fxLayout="row" fxLayout.xs="column" fxLayoutAlign="start start"
         fxLayoutAlign.xs="center center" dir="rtl">
    </div>
    <br>
    <div dir="rtl" style="width:100%">
      <mat-card>
        <div class="rs-table" style="width: 100%">
          <table style="width: 100%">
            <thead>
            <td style="width: 10%"><b>ردیف</b></td>
            <td style="width: 10%"><b>رنگ</b></td>
            <td style="width: 10%; text-align: center; margin: 0 10px;"><b>تصویر بندانگشتی</b></td>
            <td style="width: 70%; text-align: center;"><b>تصاویر</b></td>
            <td style="width: 10%"><b>حذف</b></td>
            </thead>
            <tbody>
            <tr *ngFor="let pc of productColors; let i = index">
              <td>{{i+1}}</td>
              <td>{{pc.info?.name}}</td>
              <td>
                <img style="width: 80%; margin: 0 10px;" [src]="getURL(pc.image.thumbnail)">
              </td>
              <td>
                <div style="text-align: center">
                  <div *ngFor="let image of pc.image.angles"
                       style="width: 10% ;height: 10%; display: inline-block;text-align: center;">
                    <img style="width: 80% ;" [src]="getURL(image)">
                  </div>
                </div>
              </td>
              <td>
                <button mat-icon-button (click)="removeImg(pc.info._id)" color="warn">
                  <mat-icon aria-label="clear">delete</mat-icon>
                </button>
              </td>
            </tr>
            </tbody>
          </table>
        </div>
      </mat-card>
    </div>
  </mat-card-content>
</mat-card>
