<div [ngClass]="isMobile ? 'set-size-mobile' : null">
  <h1>فیلترها</h1>
</div>
<mat-accordion multi="true">
  <mat-expansion-panel *ngIf="isMobile">
    <mat-expansion-panel-header>
      <div class="checkbox-title">ترتیب نمایش</div>
    </mat-expansion-panel-header>
    <div *ngFor="let sortOption of sortOptions;let i=index" (click)="selectSortOption(i)" class="sorter">
     {{sortOption.fa}}  <i *ngIf="sortedBy && (sortedBy.value === sortOption.value)" class="fa fa-check sort"></i>
    </div>
  </mat-expansion-panel>
  <mat-expansion-panel *ngFor="let fo of filter_options; let i = index" [ngClass]="isMobile ? 'set-size-mobile' : null" [expanded]="expanded[fo]">
    <mat-expansion-panel-header>
      <div class="checkbox-title">{{fo.name}}</div>
    </mat-expansion-panel-header>
    <div *ngFor="let v of filter_options[i].values" [ngClass]="isMobile ? 'fit-check-box-mobile' : 'fit-check-box'">
      <mat-checkbox *ngIf="fo.name !== 'رنگ' && fo.name !== 'سایز' && fo.name !=='قیمت'"
                    (click)="getValue(fo.name, v)" [checked]="clear_box">
        <span class="check-box-text">{{v}}</span>
      </mat-checkbox>
    </div>
    <div *ngIf="fo.name==='قیمت'">
      <p-slider [(ngModel)]="rangeValues" [range]="true" [min]="minPrice" [max]="maxPrice" (onChange)="priceRangeChange()"></p-slider>
      <span style="float:left">{{selectedMinPriceFormatted}} تومان</span><span>{{selectedMaxPriceFormatted}} تومان</span>
    </div>
    <span *ngIf="fo.name === 'رنگ'">
      <span *ngFor="let v of filter_options[i].values; let j = index" class="color-span" (click)="getValue(fo.name, v)"
            style="cursor: pointer;">
        <svg height="26" width="26">
         <circle cx="13" cy="13" r="13" stroke="black" stroke-width="0" attr.fill="{{v}}"></circle>
        </svg>
        <i *ngIf="isChecked[fo.name][v]" class="fa fa-check circle" [style.color]="oppositeColor[v]"></i>
      </span>
  </span>
    <span *ngIf="fo.name === 'سایز'">
      <mat-button-toggle *ngFor="let v of filter_options[i].values" class="filter-size"
                         (click)="getValue(fo.name, v)" [checked]="clear_box">
          {{v}}
      </mat-button-toggle>
    </span>
  </mat-expansion-panel>
</mat-accordion>
<div class="actions">
  <button mat-button *ngIf="isMobile" (click)="changeDisplayFilter()">اعمال فیلترها</button>
  <button mat-button (click)="clearFilters()">برداشتن تمام فیلترها</button>
</div>
