<div fxLayout="row" class="outer-div">
  <div fxFlex="10" fxFlex.sm="10" fxFlex.xs="0">&nbsp;</div>
  <div fxFlex="80" fxFlex.sm="80" fxFlex.xs="100">
    <div fxLayout="row" fxLayout.sm="column" fxLayout.xs="column"
         fxLayoutAlign="center center" fxLayoutAlign.sm="center center" fxLayoutAlign.xs="start center"
         class="middle-div-wrapper">
      <div fxFlex="70" class="middle-div">
        <mat-accordion multi>
          <mat-expansion-panel expanded>
            <mat-expansion-panel-header>خلاصه</mat-expansion-panel-header>


            <app-checkout-summary [total]="total" [discount]="discount" [usedBalance]="usedBalance"
                                  [usedLoyaltyPoint]="usedLoyaltyPoint" [deliveryCost]="deliveryCost"
                                  [deliveryDiscount]="deliveryDiscount" [noDuration]="noDuration"
                                  [earnedLoyaltyPoint]="earnedLoyaltyPoint"
                                  [showCostLabel]="showCostLabel"
                                  [showEarnPointLabel]="showEarnPointLabel"
                                  [noDuration]="noDuration"></app-checkout-summary>

          </mat-expansion-panel>
          <mat-expansion-panel>
            <mat-expansion-panel-header>
              <mat-panel-title>نوع پرداخت</mat-panel-title>
            </mat-expansion-panel-header>


            <app-payment-type [balance]="balanceValue" [loyaltyPoint]="loyaltyPoint"
                              (selectedType)="changePaymentType($event)"></app-payment-type>


          </mat-expansion-panel>
          <mat-expansion-panel [expanded]="true">
            <mat-expansion-panel-header>
              <mat-panel-title>آدرس</mat-panel-title>
            </mat-expansion-panel-header>


            <app-address-table [isProfile]=false (deliveryType)="setCostLabel($event)"
                               (noDuration)="noDuration = $event"
                               (durationType)="calculateDiscount($event)"></app-address-table>
          </mat-expansion-panel>
        </mat-accordion>
        <div *ngIf="bankData">
          <form ngNoForm #bankDataa [formGroup]="bankDataForm" method="post" Action="https://pep.shaparak.ir/gateway.aspx">
            <!--<input formControlName="invoiceNumber" [value]="bankData.invoiceNumber" #invoiceNumber/>-->
            <input  formControlName="invoiceNumber" name="invoiceNumber"/>
            <input  formControlName="invoiceDate" name="invoiceDate" [value]="bankData.invoiceDate"/>
            <input  formControlName="amount" name="amount" [value]="bankData.amount"/>
            <input  formControlName="terminalCode" name="terminalCode" [value]="bankData.terminalCode"/>
            <input  formControlName="merchantCode" name="merchantCode" [value]="bankData.merchantCode"/>
            <input  formControlName="redirectAddress" name="redirectAddress" [value]="bankData.redirectAddress"/>
            <input  formControlName="timeStamp" name="timeStamp" [value]="bankData.timeStamp"/>
            <input  formControlName="action" name="action" [value]="bankData.action"/>
            <input  formControlName="sign" name="sign" [value]="bankData.sign"/>
            <!--<input type="submit" name="submit" [value]="'ارسال'"/>-->
            <button type="submit" (click)="bankDataa.submit()">Send my greetings</button>
          </form>
        </div>
        <button mat-raised-button
                class="payment-button"
                (click)="checkout()" [disabled]="disabled"
                [style.background]="disabled ? 'gray' : 'black'">پرداخت
        </button>
      </div>
    </div>
  </div>
  <div fxFlex="10" fxFlex.sm="10" fxFlex.xs="0">&nbsp;</div>
</div>

