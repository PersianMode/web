<div class="summary">
  <div class="row-register" (click)="goToRegister()">
      <!-- <mat-icon>arrow_back</mat-icon> -->
      <span class="register-icon">
          <img width="60px" src="/assets/cliparts/login-icon.png">
      </span> 
    <div style="cursor: pointer;">
      <h2 style="white-space: nowrap">عضویت رایگان</h2>
      <p style="position: relative; bottom: 8px;">به ما بپیوندید</p>
    </div>
  </div>
  <div class="rows">
    <div class="s-right-text total-payment" style="display: inline-flex;">
      <span>
          <img width="60px" src="/assets/cliparts/cart-icon.png">
      </span> 
      <!-- <mat-icon style="position: relative;right: 13px;font-size: 50px;">shopping_basket</mat-icon> -->
      <span style="position: relative;top: 20px;">سبد خرید</span>  
    </div>
  </div>
  <hr class="hr-style">
  <div class="rows">
    <span class="s-right-text"> امتیاز</span>
    <span class="s-left-text">{{loyaltyPoint}}</span>
  </div>
  <div class="rows">
    <span class="s-right-text"> تعدا خرید</span>
    <span class="s-left-text">{{loyaltyPoint}}</span>
  </div>
  <hr class="hr-style">
  <!-- coupon -->
  <div class="rows">
    <div fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="0px">  
        <span class="coupon-name">کوپن تخفیف</span>
        <input class="coupon-input" matInput type="text">
    </div>
    <div fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="0px">
        <button class="coupon-btn" mat-raised-button>اعمال</button>
    </div>
  </div>
  <div class="rows">
    <span class="s-right-text"> موجودی</span>
    <span class="s-left-text">{{balanceValue | priceFormat:','}}  تومان</span>
  </div>
  <hr class="hr-style">
  <div class="rows" *ngIf="isLoggedIn">
    <div>
      <label class="s-right-text coupon_label" (click)="changeCouponVisibility()"> آیا کد تخفیف دارید؟
        <span *ngIf="!show_coupon_area"><i class="open-close-field-sign material-icons">keyboard_arrow_down</i></span>
        <span *ngIf="show_coupon_area"><i class="open-close-field-sign material-icons">keyboard_arrow_up</i></span>
      </label>
    </div>
    <div class="coupon_area" fxLayout="row" fxLayoutAlign="start start" *ngIf="show_coupon_area">
      <div fxFlex="80">
        <input *ngIf="!used_coupon_code" class="coupon_field" type="text" [(ngModel)]="coupon_code"/>
        <input *ngIf="!!used_coupon_code" class="coupon_field" type="text"  [value]="used_coupon_code" readonly/>
      </div>
      <div fxFlex="20">
        <div class="coupon_code_btn" (click)="applyCoupon()">
          <span *ngIf="!used_coupon_code">اعمال</span>
          <span *ngIf="!!used_coupon_code">حذف</span>
        </div>
      </div>
    </div>
  </div>
  <hr class="hr-style"/>
  <div class="rows">
    <span class="s-right-text">جمع خرید</span>
    <span class="s-left-text">{{totalValue | priceFormat:','}}  تومان</span>
  </div>
  <hr class="hr-style">
  <div class="rows">
    <span class="s-right-text">تخفیف</span>
    <span class="s-left-text">{{discountValue | priceFormat:','}} تومان </span>
  </div>
  <hr class="hr-style">
  <div class="rows nowrap-row-tp">
    <span class="s-right-text total-payment">قیمت نهایی</span>
    <span class="s-left-text total-payment">{{finalTotal | priceFormat:','}}  تومان</span>
  </div>
  <hr class="hr-style">
  <div>
    <button mat-button class="payment-button" [class.disabled]="disabled" (click)="pay()" [disabled]="disabled">
      تأیید نهایی
    </button>
  </div>
</div>
