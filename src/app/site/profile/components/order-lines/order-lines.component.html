<div class="close-div">
  <b>
    <mat-icon aria-label="no" (click)="onClose()">clear</mat-icon>
  </b>
</div>
<div class="dialog-style2">
  <mat-card style="margin-bottom: 5px" *ngFor="let ol of orderLines">
    <mat-card-content>
      <div fxLayout="row" fxLayoutAlign="center top" fxLayout.xs="column" dir="rtl">
        <div fxFlex="25">
          <a (click)="navigateToProduct(ol.product._id, ol.boughtColor._id)">
            <img src="{{getThumbnailURL(ol.boughtColor, ol.product)}}">
          </a>
        </div>
        <div fxFlex="75" class="order-data-div">
          <div fxLayout="row" fxLayoutAlign="center top" style="height : 100%">
            <div fxFlex="70">
              <div>
                <h3>
                  <a (click)="navigateToProduct(ol.product._id, ol.boughtColor._id)">{{ol.product.name}}</a>
                </h3>
              </div>

              <div fxLayout="row" fxLayout.xs="column" dir="rtl">
                <div fxFlex="50">
                  <span>اندازه : </span>
                  <span>{{ol.product_instance.displaySize}}</span>
                </div>
                <div fxFlex="50">
                  <span>تعداد : </span>
                  <span>{{makePersianNumber(ol.quantity, false)}} عدد</span>
                </div>
              </div>
              <div fxLayout="row" fxLayout.xs="column" dir="rtl">
                <div fxFlex="50">
                  <span>قیمت واحد : </span>
                  <span>{{makePersianNumber(ol.product.instances.price ? ol.product.instances.price : ol.product.base_price, true)}}</span>
                </div>
                <div fxFlex="50">
                  <span>تخفیف : </span>
                  <span> - </span>
                </div>
              </div>
              <div>
                <span>وضعیت سفارش : </span>
                <span>{{OrderLineStatus(ol)}}</span>
              </div>
            </div>

            <div fxFlex="30" class="total_price">
              <div style="height: 80%">
                <span style="font-weight: bold;">{{makePersianNumber(((ol.paid_price ? ol.paid_price : (ol.product.instances.price ? ol.product.instances.price
                  : ol.product.base_price))), true)}}</span>
                تومان
              </div>
              <div style="height: 20%">
                <ng-container>
                  <button *ngIf="checkCancelOrderLine(ol)" class="status-button" (click)="cancelOrderLine(ol)">
                    لغو خرید
                  </button>
                  <button *ngIf="checkReturnOrderLine(ol) && !expiredTime" class="status-button" (click)="returnOrderLine(ol)">
                    بازگشت کالا
                  </button>
                </ng-container>
              </div>
            </div>
          </div>
        </div>
      </div>
    </mat-card-content>
  </mat-card>

</div>
